<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目概览 - OPS预印本网站</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📖 项目概览</h1>
            <p class="subtitle">详细的项目背景、架构与进展说明</p>
        </header>

        <nav class="main-nav">
            <a href="index.html" class="nav-link">← 返回首页</a>
            <a href="overview.html" class="nav-link highlight">项目概览</a>
            <a href="progress.html" class="nav-link">进度追踪</a>
        </nav>

        <main>
            <!-- 项目背景 -->
            <section class="section">
                <h2>🎯 项目背景</h2>
                <div class="card">
                    <p>本项目旨在搭建一个基于<strong>OPS 3.5</strong> (Open Preprint Systems)的学术预印本发布平台，用于学术论文的在线发布、管理和交流。</p>
                    
                    <h3>核心需求</h3>
                    <p>OPS官方系统<strong>默认不包含评论功能</strong>，而学术交流需要读者能够对论文进行评论和讨论。因此，项目的核心开发工作是：</p>
                    <ul>
                        <li>集成<strong>Artalk评论系统</strong>（self-hosted部署）</li>
                        <li>开发OPS评论插件，实现与Artalk的对接</li>
                        <li>评论功能仅对<strong>已登录用户</strong>开放，确保评论质量</li>
                    </ul>
                </div>
            </section>

            <!-- 技术架构 -->
            <section class="section">
                <h2>🏗️ 技术架构</h2>
                <div class="card">
                    <h3>系统组件</h3>
                    <ul>
                        <li><strong>操作系统</strong>: Ubuntu 22.04 LTS</li>
                        <li><strong>OPS 3.5</strong>: 预印本管理系统（直接安装，非Docker）</li>
                        <li><strong>Artalk</strong>: 评论系统（Docker容器部署）</li>
                        <li><strong>Apache2</strong>: Web服务器（默认配置位置）</li>
                        <li><strong>MySQL/MariaDB</strong>: 数据库系统</li>
                        <li><strong>访问方式</strong>: 域名访问</li>
                    </ul>

                    <h3>系统架构图</h3>
                    <pre><code>┌─────────────┐
│   用户浏览器  │
└──────┬──────┘
       │
       ▼
┌─────────────────────────────────┐
│        Apache2 Web服务器         │
│  ┌──────────────┐  ┌──────────┐ │
│  │  OPS 3.5     │  │ Artalk   │ │
│  │  (PHP应用)   │  │ (评论服务) │ │
│  └──────┬───────┘  └────┬─────┘ │
└─────────┼────────────────┼───────┘
          │                │
          ▼                ▼
   ┌────────────┐   ┌────────────┐
   │ OPS数据库  │   │Artalk数据库│
   └────────────┘   └────────────┘</code></pre>

                    <h3>工作流程</h3>
                    <ol>
                        <li>用户访问OPS网站，浏览文章</li>
                        <li>用户登录OPS账号</li>
                        <li>在文章详情页底部，OPS调用评论插件</li>
                        <li>评论插件读取OPS用户登录状态和信息</li>
                        <li>评论插件加载Artalk评论组件</li>
                        <li>Artalk与后端服务通信，存储和显示评论</li>
                    </ol>
                </div>
            </section>

            <!-- 已完成工作 -->
            <section class="section">
                <h2>✅ 已完成工作</h2>
                <div class="card">
                    <ol>
                        <li>
                            <strong>OPS 3.5系统部署</strong>
                            <ul>
                                <li>在Ubuntu 22.04上直接安装OPS</li>
                                <li>配置Apache2虚拟主机（默认位置）</li>
                                <li>数据库创建和初始化</li>
                                <li>域名配置和访问测试</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Artalk评论系统部署</strong>
                            <ul>
                                <li>使用Docker容器部署Artalk服务</li>
                                <li>配置Artalk数据库</li>
                                <li>设置Artalk API和安全策略</li>
                                <li>服务运行稳定</li>
                            </ul>
                        </li>
                        <li>
                            <strong>评论插件开发（artalk-ops-plugin）</strong>
                            <ul>
                                <li>开发OPS插件框架</li>
                                <li>实现与Artalk API的对接</li>
                                <li>在文章详情页集成评论区</li>
                                <li>实现评论发表、回复、显示功能</li>
                                <li><strong>待完成</strong>: 同步OPS网站登录状态到评论系统</li>
                            </ul>
                        </li>
                        <li>
                            <strong>测试环境搭建</strong>
                            <ul>
                                <li>OPS系统测试部署完成</li>
                                <li>SSH访问权限配置</li>
                                <li>基础功能测试</li>
                            </ul>
                        </li>
                        <li>
                            <strong>项目文档编写</strong>
                            <ul>
                                <li>项目说明文档</li>
                                <li>开发维护指南</li>
                                <li>任务进度追踪表</li>
                                <li>GitHub Pages文档站点</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </section>

            <!-- 待完成工作 -->
            <section class="section">
                <h2>🔄 待完成工作</h2>
                <div class="card">
                    <h3>高优先级任务</h3>
                    <ol>
                        <li><strong>评论插件代码完善</strong>（4-6小时）
                            <ul>
                                <li>审查和优化AI辅助生成的代码</li>
                                <li>完善错误处理机制</li>
                                <li>添加代码注释和文档</li>
                            </ul>
                        </li>
                        <li><strong>全站中文翻译检查</strong>（6-8小时）
                            <ul>
                                <li>检查OPS前台所有页面翻译</li>
                                <li>检查评论插件翻译</li>
                                <li>统一术语翻译</li>
                            </ul>
                        </li>
                        <li><strong>系统配置优化</strong>（3-4小时）
                            <ul>
                                <li>用户注册流程配置</li>
                                <li>投稿权限设置</li>
                                <li>评论权限确认</li>
                            </ul>
                        </li>
                        <li><strong>功能测试</strong>（8-10小时，全员参与）
                            <ul>
                                <li>用户流程测试</li>
                                <li>评论功能测试</li>
                                <li>权限测试</li>
                                <li>跨浏览器测试</li>
                            </ul>
                        </li>
                        <li><strong>生产环境部署</strong>（6-8小时）
                            <ul>
                                <li>创建生产VPS</li>
                                <li>环境配置</li>
                                <li>服务部署</li>
                                <li>HTTPS配置</li>
                                <li>备份策略</li>
                            </ul>
                        </li>
                    </ol>

                    <h3>中优先级任务</h3>
                    <ol>
                        <li><strong>站点布局和视觉优化</strong>（4-6小时）
                            <ul>
                                <li>设计并上传Logo</li>
                                <li>优化页面布局</li>
                                <li>统一评论区样式</li>
                            </ul>
                        </li>
                        <li><strong>法律文档起草</strong>（8-10小时）
                            <ul>
                                <li>用户使用协议</li>
                                <li>版权声明</li>
                                <li>隐私政策</li>
                            </ul>
                        </li>
                        <li><strong>用户使用手册</strong>（4-6小时）
                            <ul>
                                <li>注册登录指南</li>
                                <li>投稿指南</li>
                                <li>评论功能说明</li>
                                <li>常见问题FAQ</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </section>

            <!-- 项目时间线 -->
            <section class="section">
                <h2>📅 项目时间线（建议）</h2>
                <div class="card">
                    <h3>第1周</h3>
                    <ul>
                        <li>任务分配会议</li>
                        <li>评论插件代码完善</li>
                        <li>中文翻译检查</li>
                        <li>系统配置优化</li>
                    </ul>

                    <h3>第2周</h3>
                    <ul>
                        <li>站点布局优化</li>
                        <li>法律文档起草</li>
                        <li>用户手册编写</li>
                        <li>功能测试（全员）</li>
                    </ul>

                    <h3>第3周</h3>
                    <ul>
                        <li>Bug修复</li>
                        <li>文档完善</li>
                        <li>生产环境部署</li>
                        <li>最终验收</li>
                    </ul>
                </div>
            </section>

            <!-- 团队协作 -->
            <section class="section">
                <h2>👥 团队协作机制</h2>
                <div class="card">
                    <h3>沟通方式</h3>
                    <ul>
                        <li><strong>日常沟通</strong>: 微信群</li>
                        <li><strong>任务更新</strong>: GitHub Pages进度表 + 微信群通知</li>
                        <li><strong>技术讨论</strong>: 微信群 + 文档参考</li>
                    </ul>

                    <h3>任务变更通知</h3>
                    <p>承诺：任何任务变更将<strong>提前至少24小时</strong>在微信群通知，避免工作白费。</p>

                    <h3>问题反馈</h3>
                    <ul>
                        <li>技术问题：先查阅文档，再在群内讨论</li>
                        <li>阻塞问题：及时@负责人，快速响应</li>
                        <li>建议意见：随时在群内提出</li>
                    </ul>
                </div>
            </section>

            <!-- 关键决策 -->
            <section class="section">
                <h2>💡 关键技术决策</h2>
                <div class="card">
                    <h3>为什么选择Artalk？</h3>
                    <ul>
                        <li>✅ 现代化的评论系统，界面美观</li>
                        <li>✅ Self-hosted部署，数据自主可控</li>
                        <li>✅ 提供完整的REST API</li>
                        <li>✅ 支持Markdown和多种功能</li>
                        <li>✅ 活跃的开源项目，持续维护</li>
                    </ul>

                    <h3>为什么不使用JWT？</h3>
                    <p>最初计划使用JWT进行用户认证，但经评估后决定：</p>
                    <ul>
                        <li>✅ 直接读取OPS的用户登录状态更简单</li>
                        <li>✅ 减少开发复杂度和维护成本</li>
                        <li>✅ 避免额外的认证层，降低安全风险</li>
                    </ul>

                    <h3>评论权限设计</h3>
                    <ul>
                        <li>✅ 仅<strong>作者权限</strong>用户可评论（OPS默认设置）</li>
                        <li>✅ 用户需通过邮箱验证（OPS默认流程）</li>
                        <li>✅ 评论与OPS用户账号绑定</li>
                        <li>❌ 普通注册用户暂不支持评论（需授予作者权限）</li>
                        <li>❌ 不支持匿名评论</li>
                    </ul>
                    <p><strong>说明</strong>：这些都是OPS的默认权限设置，无需额外开发或配置。</p>
                </div>
            </section>

            <!-- 后续维护 -->
            <section class="section">
                <h2>🔧 后续维护说明</h2>
                <div class="card">
                    <p>项目上线后需要持续维护，主要包括：</p>

                    <h3>日常运维（持续性）</h3>
                    <ul>
                        <li>服务器监控和日志查看</li>
                        <li>定期数据备份</li>
                        <li>安全补丁更新</li>
                    </ul>

                    <h3>问题修复（按需）</h3>
                    <ul>
                        <li>用户反馈的Bug修复</li>
                        <li>系统错误排查</li>
                        <li>性能优化</li>
                    </ul>

                    <h3>功能迭代（按需）</h3>
                    <ul>
                        <li>根据需求添加新功能</li>
                        <li>与OPS新版本保持兼容</li>
                        <li>评论插件功能增强</li>
                    </ul>

                    <h3>所需能力</h3>
                    <ul>
                        <li>Linux基础运维能力</li>
                        <li>PHP基础代码阅读能力（不需要精通）</li>
                        <li>问题排查和日志分析能力</li>
                        <li>参考文档解决问题的能力</li>
                    </ul>

                    <p><strong>💡 学习建议</strong>：不需要从头到尾学习OPS，结合现有代码和本站文档，按需查询官方文档即可。</p>
                </div>
            </section>

        </main>

        <footer>
            <p>最后更新：2024-12-02</p>
            <p>联系方式：项目微信群</p>
        </footer>
    </div>
</body>
</html>
